(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{469:function(t,e,h){"use strict";h.r(e);var r=h(465),n=(h(67),h(65),h(482)),l={props:{waveform:Object},mounted:function(){this.chart=n.a(this.$refs.chart),this.chartTitle=this.waveform.title,this.chartData=this.waveform.data,this.isPlaying=this.waveform.isPlaying,this.speed=this.waveform.speed,this.drawChart(),this.startPlayheadAnimation()},watch:{waveform:"drawChart"},data:function(){return{chartData:[],chart:null,playheadIndex:0,playheadTimer:null,isPlaying:!1,chartTitle:"",speed:1}},methods:{drawChart:function(){var t=this.chartData.map((function(t,i){return i}));this.chart.setOption({grid:{left:0,right:0,top:0,bottom:0},xAxis:{type:"category",boundaryGap:!1,data:t,show:!1},yAxis:{type:"value",min:Math.min.apply(Math,Object(r.a)(this.chartData))-100,max:Math.max.apply(Math,Object(r.a)(this.chartData))+100,show:!1},series:[{data:this.chartData,type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:1,color:"#4A90E2"}}],dataZoom:[{type:"inside",xAxisIndex:0,show:!1,endValue:Math.min(100,this.chartData.length-1),start:0,end:100,height:15,bottom:5,handleSize:8,handleStyle:{color:"#4A90E2"},textStyle:{color:"#666"},borderColor:"#ddd",fillerColor:"rgba(74, 144, 226, 0.2)",backgroundColor:"#f5f5f5"}],animation:!1}),this.updatePlayhead()},startPlayheadAnimation:function(){var t=this;if(this.isPlaying){this.playheadTimer&&clearInterval(this.playheadTimer);var e=this.chartData.length,h=3e3/this.chartData.length*this.speed;this.playheadIndex=0,this.playheadTimer=setInterval((function(){t.playheadIndex+=1,t.playheadIndex>=e&&(t.playheadIndex=0),t.updatePlayhead()}),h)}},updatePlayhead:function(){if(this.chart){var t=this.chart.convertToPixel({xAxisIndex:0},this.playheadIndex);this.chart.setOption({graphic:[{id:"playhead",type:"line",shape:{x1:t,y1:0,x2:t,y2:this.chart.getHeight()},style:{stroke:"#A8ACAD",lineWidth:1},z:10}],dataZoom:[{type:"inside",xAxisIndex:0,show:!1,endValue:Math.min(100,this.chartData.length-1),start:0,end:100,height:15,bottom:5,handleSize:8,handleStyle:{color:"#4A90E2"}}]})}}},beforeDestroy:function(){this.playheadTimer&&clearInterval(this.playheadTimer)}},o=h(37),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,h=t._self._c||e;return h("div",{staticClass:"waveform-container"},[h("div",{ref:"chart",staticStyle:{width:"100%",height:"100px"}}),t._v(" "),h("div",[t._v(" "+t._s(t.chartTitle))])])}),[],!1,null,null,null);e.default=component.exports}}]);